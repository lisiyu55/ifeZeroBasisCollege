<!DOCTYPE html>
<html>

<head>
</head>

<body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000;opacity: 1;filter: alpha(opacity=100);"></div>
    <button id="fade-btn">淡出</button>
</body>
<script>
    var flag = false;
    document.getElementById("fade-btn").onclick = function () {
        if (document.getElementById("fade-btn").innerHTML == "淡出") {
            var alpha = document.getElementById("fade-obj").style.opacity * 100;
            var s = setInterval(function () {
                if (alpha > 0) {
                    alpha -= 10;
                    document.getElementById("fade-obj").style.filter = 'alpha(opacity=' + alpha + ')';
                    document.getElementById("fade-obj").style.opacity = alpha / 100;
                    document.getElementById("fade-btn").disabled = true;
                    //console.log(alpha);
                }
                else {
                    document.getElementById("fade-btn").disabled = false;
                    document.getElementById("fade-btn").innerHTML = "淡入";
                    clearInterval(s);
                }

            }, 100)
        }
        else if (document.getElementById("fade-btn").innerHTML == "淡入") {
            var alpha = 0;
            var s = setInterval(function () {
                if (alpha < 100) {
                    alpha += 10;
                    document.getElementById("fade-obj").style.filter = 'alpha(opacity=' + alpha + ')';
                    document.getElementById("fade-obj").style.opacity = alpha / 100;
                    document.getElementById("fade-btn").disabled = true;
                    console.log(alpha);
                }
                else {
                    document.getElementById("fade-btn").disabled = false;
                    document.getElementById("fade-btn").innerHTML = "淡出";
                    clearInterval(s);
                }

            }, 100)
        }


    }
</script>

</html>